@model List<WebApplication1.Models.Resource>
@{
    ViewData["Title"] = "Resource";
    Layout = "/Pages/_Layout.cshtml";
}

<h1>Resource</h1>



<h2>Resource List</h2>

<style>
    .edit-button {
        background-color: #4CAF50; /* Green */
        border: none;
        color: white;
        padding: 8px 16px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 14px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 4px;
    }

    /* Style for delete button */
    .delete-button {
        background-color: #f44336; /* Red */
        border: none;
        color: white;
        padding: 8px 16px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 14px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 4px;
    }
</style>

<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Type</th>
            <th>Item</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Purchased Date</th>
            <th>Notes</th>
            @* <th>Owner</th> *@
        </tr>
    </thead>

    <tbody>
        @foreach (var resource in Model)
        {
            <tr>
                <td>@resource.ResourceID</td>
                <td>@resource.ItemName</td>
                <td>@resource.ItemType</td>
                <td>@resource.ItemQuantity</td>
                <td>@resource.ItemPrice</td>
                <td>@resource.PurchasedDate.ToShortDateString()</td>
                <td>@resource.ItemNotes</td>
                <td>
                    <button class="edit-button" onclick="openEditPopup('@resource.ResourceID')">Edit</button>


                    <form asp-controller="Resource" asp-action="DeleteResource" method="post">
                        <input type="hidden" name="resourceID" value="@resource.ResourceID" />
                        <button type="submit" class="btn btn-danger">Delete</button>
                    </form>                    
                </td>
            </tr>
        }
    </tbody>
</table>









<form asp-controller="Resource" asp-action="AddResource" method="post">
    <div class="form-group">
        <label for="itemName">Item Name:</label>
        <input type="text" id="itemName" name="itemName" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="itemType">Item Type:</label>
        <input type="text" id="itemType" name="itemType" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="itemQuantity">Item Quantity:</label>
        <input type="number" id="itemQuantity" name="itemQuantity" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="DatePaid">Date Paid:</label>
        <input type="date" id="DatePaid" name="DatePaid" required>
    </div>
    <div class="form-group">
        <label for="itemPrice">Item Price:</label>
        <input type="number" id="itemPrice" name="itemPrice" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="itemNotes">Item Notes:</label>
        <textarea id="itemNotes" name="itemNotes" class="form-control"></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Add Resource</button>
</form>





<!-- Popup for editing -->
<div id="editPopup" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeEditPopup()">&times;</span>
        <h2>Edit Resource</h2>
        <form id="editForm" asp-controller="Resource" asp-action="EditResource" method="post">
            <input type="hidden" id="editResourceId" name="resourceID" />
            <div class="form-group">
                <label for="editItemName">Item Name:</label>
                <input type="text" id="editItemName" name="itemName" class="form-control" required>
            </div>
            <!-- Add other input fields for editing -->
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
    </div>
</div>

<script>
    // Function to open the edit popup
    function openEditPopup(resourceID) {
        // Retrieve resource details via AJAX and populate the fields
        // Example: You can use jQuery AJAX for this purpose
        // Once you have retrieved the data, populate the fields in the popup
        // For demonstration, let's assume the resource details are retrieved and populated

        // Example:
        // $('#editItemName').val('Resource Name');
        // Populate other fields similarly

        // Display the popup
        $('#editPopup').show();
    }

    // Function to close the edit popup
    function closeEditPopup() {
        // Close the popup
        $('#editPopup').hide();
    }
</script>