@model WebApplication1.Models.ViewModels.DashboardViewModel

@{
    ViewData["Title"] = "Dashboard";
    Layout = "/Pages/_Layout.cshtml";
    var entryLogsPerDayJson = Newtonsoft.Json.JsonConvert.SerializeObject(Model.EntryLogsPerDay.Values);
}

<div class="dashboard-Background">
    
    <div class="left-dashboard">
        <div class="left-dashboard-upper">
            <h2><b>Welcome back</b></h2>
        </div>
        <div class="left-dashboard-middle">
            <div class="firstBarGraph">
                <div class="Graph-Canvas">
                    <div class="text-Design">
                        <p><b>Average Gym Attendance</b></p>
                    </div>
                    <canvas id="entryLogsChart" width="150" height="75"></canvas>
                </div>
            </div>

            <div class="secondBarGraph">
                <div class="Graph-Canvas">
                    <p>Joining vs Leaving Members</p>
                    <canvas id="joiningLeavingMembersChart" width="110" height="44"></canvas>
                </div>
            </div>
        </div>

        <div class="left-dashboard-low">
            <div class="firstBox">
                <div class="firstBox-Upper">
                    <div class="imageContent">
                        <h2><b>Img</b></h2>
                    </div>
                    <div class="textContent">
                        <h2>21</h2>
                    </div>
                    <div class="textContentDescription">
                        <p>Members</p>
                    </div>
                </div>
                <div class="firstBox-Lower">
                    <div class="textContentLower">
                        <h4><b>Cancellation</b></h4>
                    </div>
                    <div class="textContentDescriptionLower">
                        <p><b>Today</b></p>
                    </div>
                </div>
            </div>
            <div class="firstBox">
                <div class="firstBox-Upper">
                    <div class="imageContent">
                        <h2><b>Img</b></h2>
                    </div>
                    <div class="textContent">
                        <h2>21</h2>
                    </div>
                    <div class="textContentDescription">
                        <p>Members</p>
                    </div>
                </div>
                <div class="firstBox-Lower">
                    <div class="textContentLower">
                        <h4><b>Cancellation</b></h4>
                    </div>
                    <div class="textContentDescriptionLower">
                        <p><b>Today</b></p>
                    </div>
                </div>
            </div>
            <div class="firstBox">
                <div class="firstBox-Upper">
                    <div class="imageContent">
                        <h2><b>Img</b></h2>
                    </div>
                    <div class="textContent">
                        <h2>21</h2>
                    </div>
                    <div class="textContentDescription">
                        <p>Members</p>
                    </div>
                </div>
                <div class="firstBox-Lower">
                    <div class="textContentLower">
                        <h4><b>Cancellation</b></h4>
                    </div>
                    <div class="textContentDescriptionLower">
                        <p><b>Today</b></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    
    <div class="right-dashboard">
        <div class="right-dashboard-box" style="background-color: rgba(48, 77, 112, 0.2); color: rgba(48, 77, 112, 1);  ">
            <dic class="right-dashboard-icon">
                <img src="~/images/newMembers (2).png" />
            </dic>
            <div class="right-dashboard-info">
                <p>New Members</p>
            </div>
            <div class="right-dashboard-content">
                <h2>@Model.NewMembersCount</h2>
            </div>
        </div>

        <div class="right-dashboard-box" style="background-color:  rgba(255, 49, 49, 0.2); color:rgba(255, 49, 49, 1);">
            <dic class="right-dashboard-icon">
                <img src="/images/activeMembers.png" />
            </dic>
            <div class="right-dashboard-info">
                <p>Active Admissions</p>
            </div>
            <div class="right-dashboard-content">
                <h2>@Model.ActiveAdmissionMembersCount</h2>
            </div>
        </div>

        <div class="right-dashboard-box" style="background-color: rgba(61, 217, 235, 0.2); color: rgba(61, 217, 235, 1);">
            <dic class="right-dashboard-icon">
                <img src="/images/pound.png" />
            </dic>
            <div class="right-dashboard-info">
                <p>Fees Amount</p>
            </div>
            <div class="right-dashboard-content">
                <h2>@Model.TotalFeesAmount</h2>
            </div>
        </div>

    </div>



    @* <div class="welcome-Dashboard">
        <h2>Welcome <b>fullName</b>!</h2>
        <p>@DateTime.Today.ToString("dd MMMM yyyy")</p>

    </div>
    *@

</div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/0.5.10/chartjs-plugin-annotation.min.js"></script>

    @section Scripts {

    <script src="~/js/Views/Dashboard/lineGraph.js" asp-append-version="true"></script>
    <script>
        var ctx = document.getElementById('entryLogsChart').getContext('2d');
        var entryLogsChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: options
        });

    </script>



    <script src="~/js/Views/Dashboard/barGraph.js" asp-append-version="true"></script>
    <script>

        var ctx = document.getElementById('joiningLeavingMembersChart').getContext('2d');
        var joiningLeavingMembersChart = new Chart(ctx, {
            type: 'line',
            data: data,
            options: options
        });
    </script>
    }
</div>
